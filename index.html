<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Predictionassignment by vickkiee</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Predictionassignment</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/vickkiee/predictionassignment" class="btn">View on GitHub</a>
      <a href="https://github.com/vickkiee/predictionassignment/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/vickkiee/predictionassignment/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <hr>
<h2>
<a id="title-practical-machine-learning-course-projectauthor-victoria-odate-20072020output-html_document" class="anchor" href="#title-practical-machine-learning-course-projectauthor-victoria-odate-20072020output-html_document" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>title: "Practical Machine Learning Course Project"
author: "Victoria O."
date: "20/07/2020"
output: html_document</h2>
<h2>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Introduction</h2>
<p>One thing that people regularly do is quantify how much of a particular activity they do, but they rarely quantify how well they do it. In this project, the goal will be to use data from accelerometers on the belt, forearm, arm, and dumbell of 6 participants.</p>
<p>The goal of this project is to predict the manner in which they did the exercise. This is the "classe" variable in the training set. The prediction model developed will be used to predict 20 different test cases.</p>
<h2>
<a id="load-packages" class="anchor" href="#load-packages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Load Packages</h2>
<pre lang="{r"><code>library(caret)
library(randomForest)
library(lattice)
</code></pre>
<h2>
<a id="load-data" class="anchor" href="#load-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Load data</h2>
<p>Loading training and testing data sets.</p>
<pre lang="{r"><code>training_data &lt;- read.csv("pml-training.csv", header=TRUE, sep=",",stringsAsFactors=FALSE)
testing_data &lt;- read.csv("pml-testing.csv", header=TRUE, sep=",",stringsAsFactors=FALSE)
summary(training_data$var_total_accel_belt)
</code></pre>
<p>There are 19622 observations, consisting of 160 columns</p>
<h2>
<a id="data-preprocessing" class="anchor" href="#data-preprocessing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data preprocessing</h2>
<p>There are many variables in the dataset contain invalid values such as NAâ€™s and blanks. These variables with large amount of invalid values are removed.</p>
<pre lang="{r"><code>dataTidy &lt;- training_data[,-c(grep("^amplitude|^kurtosis|^skewness|^avg|^cvtd_timestamp|^max|^min|^new_window|^raw_timestamp|^stddev|^var|^user_name|X",names(training_data)))]

paste("Complete Cases:")
table(complete.cases(dataTidy))
</code></pre>
<h3>
<a id="data-split" class="anchor" href="#data-split" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Split</h3>
<p>the tidy data is split into two sets, 60% for training and 40% for testing</p>
<pre lang="{r"><code>set.seed(39)
inTrain &lt;- createDataPartition(y=dataTidy$classe, p=0.6,list=FALSE)
dataTidyTrain &lt;- dataTidy[inTrain,]
dataTidyTest &lt;- dataTidy[-inTrain,]
</code></pre>
<h2>
<a id="model-training-and-tuning" class="anchor" href="#model-training-and-tuning" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Model training and tuning</h2>
<p>The RandomForest and Gradient Boosting model is built. A random forest model is one of the best prediction models. It can reduce training variance and sensitivity to overfitting.</p>
<p>It is determined that this is a classification problem and the aim of the comparison is to discover which algorithm suits the data better.The RandomForest and Gradient Boosting algorithms are selected for comparison based on the accuracy these algorithms can achieve in classification. The Kappa metric is selected as the comparison criteria. To reduce the risk of overfitting, a 10-fold cross validation is employed during model building.</p>
<pre lang="{r"><code># Model tuning and training
set.seed(39)
# k-fold validation - 10-fold validation, use kappa as metric
fitControl &lt;- trainControl(method = "cv",
                           number = 10)
gbmFit &lt;- train(classe~., data=dataTidyTrain, method="gbm", metric="Kappa", trControl=fitControl,verbose=FALSE)
</code></pre>
<pre lang="{r"><code>rfFit &lt;- train(classe~.,data=dataTidyTrain,method="rf", metric="Kappa", trControl=fitControl)
</code></pre>
<h2>
<a id="model-selection" class="anchor" href="#model-selection" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Model Selection</h2>
<p>The models are  compared. Based on the plot, RandomForest algorithm fares better than the Gradient Boosting algorithm for this dataset, achieving a Kappa mean value of 0.996. It can also be seen that the RandomForest algorithm also displays less spread than Gradient Boosting. Therefore, the RandomForest model is selected for this dataset.</p>
<pre lang="{r"><code>rValues &lt;- resamples(list(rf=rfFit,gbm=gbmFit))
summary(rValues)
bwplot(rValues,metric="Kappa",main="RandomForest (rf) vs Gradient Boosting (gbm)")
</code></pre>
<h2>
<a id="cross-validation" class="anchor" href="#cross-validation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cross Validation</h2>
<p>We measure the accuracy of our model by using our training and  cross validation sets.</p>
<pre lang="{r"><code>rfFit
</code></pre>
<h3>
<a id="accuracy" class="anchor" href="#accuracy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Accuracy</h3>
<p>The confusionMatrix function in the Caret package to validate the selected model with the dataTidyTest test set. The corresponding statistics and error rates are shown..</p>
<pre lang="{r"><code>confusionMatrix(dataTidyTest$classe, predict(rfFit,dataTidyTest))
</code></pre>
<p>From the result, the selected Model performs at a Kappa value of 0.995, with an accuracy of 99.6%.</p>
<h2>
<a id="test-set-prediction-results" class="anchor" href="#test-set-prediction-results" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Test Set Prediction Results</h2>
<p>The selected model is used to predict the classification of the testing set provided.</p>
<pre lang="{r"><code>results &lt;- predict(rfFit,newdata=testing_data)
print(as.data.frame(results))
</code></pre>
<h2>
<a id="conclusion" class="anchor" href="#conclusion" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Conclusion</h2>
<p>The Random Forest Model provides very good prediction accuracy of the manner in which participants did the weight lifting as measured with accelerometers.</p>
<h2>
<a id="references" class="anchor" href="#references" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>References</h2>
<p>[1] <a href="http://web.archive.org/web/20161224072740/http:/groupware.les.inf.puc-rio.br/har">Data Source</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/vickkiee/predictionassignment">Predictionassignment</a> is maintained by <a href="https://github.com/vickkiee">vickkiee</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
